[Unit]
Description=Catering Order App (Node.js)
After=network.target

[Service]
Type=simple

# Ganti 'me' dengan nama user kamu (contoh: ubuntu, azhar, dsb.)
User=me

# Pastikan direktori ini benar dan berisi package.json
WorkingDirectory=/home/me/WORKDIR/CATERINGORDER/

# Pastikan ini menunjuk ke npm versi global
ExecStart=/home/me/.nvm/versions/node/v20.11.0/bin/npm start

# Jika npm tidak ada di /usr/bin/npm, cek dengan: which npm
# lalu ganti path di atas jika perlu

Restart=on-failure

# Environment variables
Environment=PORT=5000
Environment=NODE_ENV=production
Environment=DATABASE_URL=postgresql://postgress:1@127.0.0.1:5432/catering
Environment=PATH=/home/me/.nvm/versions/node/v20.11.0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
[Install]
WantedBy=multi-user.target
